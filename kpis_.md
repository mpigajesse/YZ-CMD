# Dashboard KPIs Yoozak - Documentation Technique

## Vue d'ensemble

Le Dashboard KPIs Yoozak est un syst√®me de suivi en temps r√©el des indicateurs de performance cl√©s pour l'activit√© e-commerce de chaussures. Il est organis√© en 5 onglets principaux, chacun ciblant un aspect sp√©cifique de l'activit√©.

---

## üè† Onglet Vue G√©n√©rale

### Description
Vue d'ensemble des 4 indicateurs critiques pour le pilotage quotidien + indicateurs synth√©tiques et graphiques de tendances.

### KPIs Principaux (Critiques)

#### 1. **Chiffre d'Affaires**
- **Nom affich√© :** "Chiffre d'Affaires - Ce mois"
- **Signification :** Revenus g√©n√©r√©s depuis le d√©but du mois en cours
- **M√©thode de calcul :** Additionne le montant total de toutes les commandes pass√©es depuis le 1er du mois, en excluant les commandes annul√©es
- **Tendance :** Comparaison avec le mois pr√©c√©dent (en pourcentage d'√©volution)
- **Ic√¥ne :** fas fa-coins (pi√®ces)
- **Couleur :** Bleu

#### 2. **Commandes du Jour**
- **Nom affich√© :** "Commandes - Aujourd'hui"
- **Signification :** Nombre de commandes pass√©es dans la journ√©e actuelle
- **M√©thode de calcul :** Compte toutes les commandes cr√©√©es √† la date du jour, sans distinction de statut
- **Tendance :** Diff√©rence absolue avec le nombre de commandes d'hier
- **Ic√¥ne :** fas fa-shopping-cart
- **Couleur :** Vert

#### 3. **Stock Critique**
- **Nom affich√© :** "Stock Critique - Articles populaires"
- **Signification :** Nombre d'articles populaires en risque de rupture de stock
- **M√©thode de calcul :** 
  - Identifie d'abord les articles populaires (ayant g√©n√©r√© au moins 2 ventes dans les 30 derniers jours)
  - Compte ensuite parmi ces articles populaires ceux qui ont moins de 5 unit√©s en stock
- **Logique business :** Se concentre uniquement sur les articles √† forte rotation pour √©viter les alertes inutiles sur les articles dormants
- **Ic√¥ne :** fas fa-exclamation-triangle
- **Couleur :** Orange

#### 4. **Taux de Conversion T√©l√©phonique**
- **Nom affich√© :** "Taux Conversion - Appels t√©l√©phoniques"
- **Signification :** Pourcentage d'appels t√©l√©phoniques qui g√©n√®rent une commande confirm√©e
- **M√©thode de calcul :** Divise le nombre de commandes confirm√©es par le nombre total d'appels effectu√©s par les op√©rateurs
- **Cible m√©tier :** 70% (objectif de performance)
- **Ic√¥ne :** fas fa-phone
- **Couleur :** Violet

### KPIs Secondaires (Synth√©tiques)

#### 1. **Panier Moyen**
- **M√©thode de calcul :** Divise le chiffre d'affaires total des 30 derniers jours par le nombre de commandes sur la m√™me p√©riode
- **Exclusions :** Les commandes annul√©es ne sont pas prises en compte
- **Couleur :** Vert

#### 2. **D√©lai de Livraison**
- **M√©thode de calcul :** Calcule la moyenne des d√©lais entre la date de commande et la date de livraison effective sur les 30 derniers jours
- **Condition :** Seules les commandes effectivement livr√©es sont incluses dans le calcul
- **Valeur par d√©faut :** 3 jours si aucune donn√©e n'est disponible
- **Couleur :** Violet

#### 3. **Satisfaction Client**
- **M√©thode de calcul :** Bas√©e sur une formule inverse du taux de retour : Satisfaction = 5 - (taux_retour √ó 0.15)
- **√âchelle d'interpr√©tation :**
  - 0-5% de retours = Excellent (4.5-5.0/5)
  - 5-10% de retours = Tr√®s bon (4.0-4.5/5)
  - 10-15% de retours = Bon (3.25-4.0/5)
  - 15-25% de retours = Moyen (2.5-3.25/5)
  - Plus de 25% de retours = Mauvais (moins de 2.5/5)
- **Unit√© :** Sur 5 points
- **Couleur :** Jaune

#### 4. **Taux de Livraison**
- **M√©thode de calcul :** Divise le nombre de commandes livr√©es par le nombre de commandes confirm√©es, multipli√© par 100 pour obtenir un pourcentage
- **P√©riode de r√©f√©rence :** 30 derniers jours
- **Couleur :** Vert

#### 5. **Stock Total**
- **M√©thode de calcul :** Additionne la quantit√© disponible de tous les articles actifs du catalogue
- **Tendance :** Variation par rapport √† il y a 7 jours
- **Couleur :** Bleu

### Graphiques

#### 1. **√âvolution du Chiffre d'Affaires**
- **Type de graphique :** Courbe lin√©aire interactive
- **P√©riodes s√©lectionnables :** 7 jours, 30 jours, ou 90 jours
- **Donn√©es affich√©es :** Chiffre d'affaires quotidien cumul√©
- **R√©sum√© affich√© :** CA du mois actuel, pourcentage de tendance, et CA des 30 derniers jours
- **Technologie :** Chart.js pour l'interactivit√©

#### 2. **Performance par R√©gion**
- **Type de graphique :** Barres horizontales avec code couleur
- **Donn√©es affich√©es :** Chiffre d'affaires par r√©gion (top 5 des meilleures performances)
- **P√©riode de r√©f√©rence :** 30 derniers jours
- **Informations d√©taill√©es :** Pourcentage de contribution, montant en dirhams, et nombre de commandes par r√©gion

---

## üìä Onglet Ventes

### Description
Analyse approfondie des performances commerciales, r√©partitions g√©ographiques et par produits.

### KPIs Principaux

#### 1. **Chiffre d'Affaires 30j**
- **M√©thode de calcul :** Additionne le montant de toutes les commandes des 30 derniers jours en excluant les commandes annul√©es
- **Tendance :** Comparaison avec la p√©riode pr√©c√©dente de 30 jours
- **Format d'affichage :** Adaptatif (K DH pour les milliers, M DH pour les millions)

#### 2. **Panier Moyen**
- **M√©thode de calcul :** Divise le chiffre d'affaires total par le nombre de commandes
- **Exclusions :** Commandes annul√©es et commandes de montant nul
- **Utilit√© m√©tier :** Indicateur cl√© de l'√©volution du comportement d'achat des clients

#### 3. **Taux de Confirmation**
- **M√©thode de calcul :** Divise le nombre de commandes confirm√©es par le nombre total de commandes, multipli√© par 100
- **Signification m√©tier :** Mesure l'efficacit√© du processus de confirmation t√©l√©phonique de Yoozak
- **P√©riode de r√©f√©rence :** 30 derniers jours

#### 4. **Nombre de Commandes**
- **M√©thode de calcul :** D√©compte de toutes les commandes non annul√©es sur les 30 derniers jours
- **Tendance :** Diff√©rence absolue (en nombre) avec la p√©riode pr√©c√©dente
- **Indicateur de :** Volume global d'activit√© commerciale

### Analyses D√©taill√©es

#### **Top 5 Mod√®les par Chiffre d'Affaires**
- **Crit√®re de s√©lection :** Les 5 articles ayant g√©n√©r√© le plus de revenus sur les 30 derniers jours
- **Exclusions :** Commandes annul√©es
- **Donn√©es affich√©es :** Chiffre d'affaires total et quantit√© vendue par article
- **Utilit√© :** Identifier les mod√®les de chaussures les plus rentables

#### **R√©partition par Cat√©gorie**
- **Objectif :** Analyser la performance par type de chaussures (sneakers, boots, sandales, etc.)
- **M√©triques :** Chiffre d'affaires et quantit√©s vendues par cat√©gorie
- **Utilit√© m√©tier :** Identifier les segments de produits porteurs et adapter la strat√©gie d'achat

#### **R√©partition G√©ographique**
- **Donn√©es :** Top 5 des villes g√©n√©ratrices de chiffre d'affaires
- **Informations d√©taill√©es :** Chiffre d'affaires et nombre de commandes par ville
- **Analyse :** Corr√©lation entre r√©gion et ville pour optimiser la logistique

#### **Performance des Op√©rateurs**
- **M√©trique principale :** Statistiques sur les appels t√©l√©phoniques effectu√©s
- **Indicateurs :** Taux de conversion et nombre d'appels par op√©rateur
- **Classement :** Top 3 des op√©rateurs par volume d'appels
- **Utilit√© :** √âvaluation des performances individuelles et formation cibl√©e

---

## üë• Onglet Clients

### Description
Analyse comportementale de la client√®le, fid√©lisation et segmentation.

### KPIs Principaux

#### 1. **Nouveaux Clients**
- **Nom affich√© :** "Nouveaux Clients - Ce mois"
- **M√©thode de calcul :** Compte tous les clients cr√©√©s depuis le d√©but du mois en cours
- **Tendance :** Comparaison avec le nombre de nouveaux clients du mois pr√©c√©dent
- **M√©trique compl√©mentaire :** Affichage de la moyenne journali√®re de cr√©ation de comptes

#### 2. **Clients Actifs**
- **Nom affich√© :** "Clients Actifs - 30 derniers jours"
- **D√©finition :** Clients ayant pass√© au moins une commande au cours des 30 derniers jours
- **Exclusions :** Les commandes annul√©es ne comptent pas pour d√©terminer l'activit√©
- **Indicateur de :** Niveau d'engagement et de r√©tention de la base client

#### 3. **Taux de Fid√©lisation**
- **D√©finition de la fid√©lit√© :** Un client est consid√©r√© comme fid√®le s'il a pass√© 2 commandes ou plus sur les 30 derniers jours
- **M√©thode de calcul :** Divise le nombre de clients fid√®les par le nombre total de clients actifs, multipli√© par 100
- **Logique m√©tier :** Le seuil de 2 commandes correspond aux standards r√©alistes du e-commerce
- **Objectif cible :** D√©passer 30% de taux de fid√©lisation

#### 4. **Valeur Vie Client (CLV)**
- **D√©finition :** Customer Lifetime Value - revenus moyens g√©n√©r√©s par client
- **M√©thode de calcul :** Divise le chiffre d'affaires total par le nombre de clients actifs sur la p√©riode
- **Utilit√© m√©tier :** √âvaluation de la rentabilit√© moyenne par client et aide √† la segmentation

### Analyses Avanc√©es

#### **Performance Mensuelle**
- **Commandes du Mois :** √âvolution vs mois pr√©c√©dent
- **CA Moyen par Client :** R√©partition du CA sur la base active
- **Segmentation :** Identification des gros clients

#### **Top Clients**
- Classement par CA g√©n√©r√© (p√©riode 30j)
- Nombre de commandes par client VIP
- Analyse comportementale

#### **R√©partition G√©ographique des Clients**
- Distribution par r√©gion
- Concentration urbaine vs rurale
- Potentiel de d√©veloppement territorial

---

## üîß Architecture Technique

### Backend (Django)
- **Fichier principal :** `kpis/views.py` - contient toute la logique de calcul des indicateurs
- **Endpoints API disponibles :**
  - `/kpis/api/vue-generale/` - Fournit les donn√©es pour l'onglet Vue G√©n√©rale
  - `/kpis/api/ventes/` - Fournit les donn√©es pour l'onglet Ventes
  - `/kpis/api/clients/` - Fournit les donn√©es pour l'onglet Clients
  - `/kpis/api/evolution-ca/` - Donn√©es pour le graphique d'√©volution du CA
  - `/kpis/api/performance-regions/` - Donn√©es pour les graphiques r√©gionaux

### Frontend (JavaScript)
- **Gestionnaire principal :** `static/js/kpis/dashboard.js` - coordonne tous les affichages
- **Classe principale :** `YoozakKPIManager` - g√®re les interactions et mises √† jour
- **Rafra√Æchissement automatique :** Toutes les 5 minutes pour maintenir les donn√©es √† jour
- **Biblioth√®que graphiques :** Chart.js pour tous les graphiques interactifs

### Base de Donn√©es
- **Mod√®les principaux utilis√©s :**
  - `Commande` - Stockage des commandes clients avec dates et montants
  - `Client` - Base de donn√©es client√®le avec dates de cr√©ation
  - `Article` - Catalogue produits avec stocks et cat√©gories
  - `Panier` - D√©tail des articles command√©s (liaison commande-article)
  - `EtatCommande` - Suivi du workflow des commandes (confirm√©, livr√©, etc.)
  - `Operation` - Actions des op√©rateurs (appels, confirmations)

### S√©curit√© et Performance
- **Authentification obligatoire :** Toutes les vues n√©cessitent une connexion utilisateur
- **Validation des donn√©es :** Filtrage et v√©rification de tous les param√®tres d'entr√©e
- **Gestion d'erreurs robuste :** Messages d'erreur explicites et gestion des cas limites
- **Optimisation requ√™tes :** Utilisation d'annotations et de filtres pour limiter les acc√®s base

---

## üìà Logiques M√©tier Sp√©cifiques

### Logiques Intelligentes Implement√©es

1. **Stock Critique vs Stock Faible**
   - Ne se contente pas d'alerter sur tous les articles en stock bas
   - Se concentre uniquement sur les articles ayant une forte rotation (vendus r√©cemment)
   - √âvite les fausses alertes sur les articles dormants ou en fin de vie

2. **Satisfaction Client R√©aliste**
   - Plut√¥t que de demander une notation directe aux clients (peu fiable)
   - Utilise le taux de retour comme indicateur objectif de satisfaction
   - Applique une √©chelle r√©aliste adapt√©e aux standards du e-commerce

3. **Performance des Op√©rateurs**
   - Distingue les diff√©rents types d'appels (prospection, suivi, etc.)
   - Se base sur les confirmations r√©elles plut√¥t que sur les promesses
   - Permet une √©valuation objective des performances individuelles

4. **Fid√©lisation Pragmatique**
   - D√©finit un seuil r√©aliste (2+ commandes) pour qualifier un client fid√®le
   - Adapt√© au cycle d'achat des chaussures (achat pas quotidien)
   - Exclut les commandes probl√©matiques qui faussent l'analyse

### Gestion des Situations Particuli√®res

- **Absence de donn√©es :** Valeurs par d√©faut coh√©rentes avec le m√©tier (exemple : d√©lai de 3 jours par d√©faut)
- **Divisions par z√©ro :** V√©rifications syst√©matiques pour √©viter les erreurs de calcul  
- **Donn√©es incoh√©rentes :** Filtrage automatique des anomalies (commandes n√©gatives, dates futures, etc.)
- **Optimisation performance :** Requ√™tes optimis√©es pour √©viter la surcharge de la base de donn√©es

---

## üéØ Objectifs et Seuils M√©tier

| KPI | Excellent | Bon | Attention | Critique |
|-----|-----------|-----|-----------|----------|
| Taux Conversion | >70% | 60-70% | 50-60% | <50% |
| D√©lai Livraison | <2j | 2-3j | 3-5j | >5j |
| Satisfaction | >4.5/5 | 4.0-4.5 | 3.0-4.0 | <3.0 |
| Taux Retour | <5% | 5-10% | 10-15% | >15% |
| Fid√©lisation | >40% | 30-40% | 20-30% | <20% |

Cette documentation refl√®te l'impl√©mentation actuelle du dashboard, optimis√©e pour le business model Yoozak de vente de chaussures par t√©l√©phone.
